{"ast":null,"code":"import axios from \"axios\";\nimport { API } from \"./config\";\nconst API_URL = process.env.REACT_APP_API_URL;\nexport default API_URL;\n\n/** -------- Media -------- */\nexport const fetchMedia = async () => {\n  try {\n    const res = await axios.get(`${API}/media`, {\n      timeout: 10000\n    });\n    return res.data.items || [];\n  } catch (err) {\n    console.error(\"❌ fetchMedia error:\", err.message);\n    if (err.response) console.error(err.response.data);\n    return [];\n  }\n};\nexport const uploadMedia = async ({\n  file,\n  title,\n  description,\n  uploaderId\n}) => {\n  if (!file) throw new Error(\"No file selected\");\n  const form = new FormData();\n  form.append(\"media\", file);\n  form.append(\"title\", title || \"Untitled\");\n  form.append(\"description\", description);\n  form.append(\"uploaderAccountId\", uploaderId);\n  try {\n    const res = await axios.post(`${API}/upload`, form, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      },\n      timeout: 20000\n    });\n    return res.data;\n  } catch (err) {\n    console.error(\"❌ uploadMedia error:\", err.message);\n    if (err.response) console.error(err.response.data);\n    throw err;\n  }\n};\nexport const viewMedia = async ({\n  mediaId,\n  viewerAccountId\n}) => {\n  if (!mediaId || !viewerAccountId) throw new Error(\"mediaId & viewerAccountId required\");\n  try {\n    const res = await axios.post(`${API}/view`, {\n      mediaId,\n      viewerAccountId\n    }, {\n      timeout: 15000\n    });\n    return res.data;\n  } catch (err) {\n    console.error(\"❌ viewMedia error:\", err.message);\n    if (err.response) console.error(err.response.data);\n    throw err;\n  }\n};\n\n/** -------- Quiz / Survey -------- */\nexport const submitQuiz = async ({\n  userId,\n  quizId,\n  answers\n}) => {\n  if (!userId || !quizId || !answers) throw new Error(\"All quiz fields required\");\n  try {\n    const res = await axios.post(`${API}/answer`, {\n      userId,\n      quizId,\n      answers\n    }, {\n      timeout: 10000\n    });\n    return res.data;\n  } catch (err) {\n    console.error(\"❌ submitQuiz error:\", err.message);\n    if (err.response) console.error(err.response.data);\n    throw err;\n  }\n};\n\n/** -------- Game -------- */\nexport const submitGame = async ({\n  userId,\n  gameId,\n  score\n}) => {\n  if (!userId || !gameId || !score) throw new Error(\"All game fields required\");\n  try {\n    const res = await axios.post(`${API}/game/complete`, {\n      userId,\n      gameId,\n      score\n    }, {\n      timeout: 15000\n    });\n    return res.data;\n  } catch (err) {\n    console.error(\"❌ submitGame error:\", err.message);\n    if (err.response) console.error(err.response.data);\n    throw err;\n  }\n};\n\n/** -------- Donation -------- */\nexport const submitDonation = async ({\n  donorId,\n  amount,\n  currency\n}) => {\n  if (!donorId || !amount) throw new Error(\"Donation fields required\");\n  try {\n    const res = await axios.post(`${API}/donate`, {\n      donorId,\n      amount,\n      currency\n    }, {\n      timeout: 15000\n    });\n    return res.data;\n  } catch (err) {\n    console.error(\"❌ submitDonation error:\", err.message);\n    if (err.response) console.error(err.response.data);\n    throw err;\n  }\n};\n\n/** -------- Referral -------- */\nexport const submitReferral = async ({\n  referrerId,\n  newUserId\n}) => {\n  if (!referrerId || !newUserId) throw new Error(\"Referral fields required\");\n  try {\n    const res = await axios.post(`${API}/referral`, {\n      referrerId,\n      newUserId\n    }, {\n      timeout: 10000\n    });\n    return res.data;\n  } catch (err) {\n    console.error(\"❌ submitReferral error:\", err.message);\n    if (err.response) console.error(err.response.data);\n    throw err;\n  }\n};","map":{"version":3,"names":["axios","API","API_URL","process","env","REACT_APP_API_URL","fetchMedia","res","get","timeout","data","items","err","console","error","message","response","uploadMedia","file","title","description","uploaderId","Error","form","FormData","append","post","headers","viewMedia","mediaId","viewerAccountId","submitQuiz","userId","quizId","answers","submitGame","gameId","score","submitDonation","donorId","amount","currency","submitReferral","referrerId","newUserId"],"sources":["E:/Hedera Africa/Projects/hedera-project1/crisis-solver-poc/frontend/src/api.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { API } from \"./config\";\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\nexport default API_URL;\r\n\r\n/** -------- Media -------- */\r\nexport const fetchMedia = async () => {\r\n  try {\r\n    const res = await axios.get(`${API}/media`, { timeout: 10000 });\r\n    return res.data.items || [];\r\n  } catch (err) {\r\n    console.error(\"❌ fetchMedia error:\", err.message);\r\n    if (err.response) console.error(err.response.data);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const uploadMedia = async ({ file, title, description, uploaderId }) => {\r\n  if (!file) throw new Error(\"No file selected\");\r\n\r\n  const form = new FormData();\r\n  form.append(\"media\", file);\r\n  form.append(\"title\", title || \"Untitled\");\r\n  form.append(\"description\", description);\r\n  form.append(\"uploaderAccountId\", uploaderId);\r\n\r\n  try {\r\n    const res = await axios.post(`${API}/upload`, form, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      timeout: 20000,\r\n    });\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"❌ uploadMedia error:\", err.message);\r\n    if (err.response) console.error(err.response.data);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const viewMedia = async ({ mediaId, viewerAccountId }) => {\r\n  if (!mediaId || !viewerAccountId)\r\n    throw new Error(\"mediaId & viewerAccountId required\");\r\n\r\n  try {\r\n    const res = await axios.post(\r\n      `${API}/view`,\r\n      { mediaId, viewerAccountId },\r\n      { timeout: 15000 }\r\n    );\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"❌ viewMedia error:\", err.message);\r\n    if (err.response) console.error(err.response.data);\r\n    throw err;\r\n  }\r\n};\r\n\r\n/** -------- Quiz / Survey -------- */\r\nexport const submitQuiz = async ({ userId, quizId, answers }) => {\r\n  if (!userId || !quizId || !answers)\r\n    throw new Error(\"All quiz fields required\");\r\n\r\n  try {\r\n    const res = await axios.post(\r\n      `${API}/answer`,\r\n      { userId, quizId, answers },\r\n      { timeout: 10000 }\r\n    );\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"❌ submitQuiz error:\", err.message);\r\n    if (err.response) console.error(err.response.data);\r\n    throw err;\r\n  }\r\n};\r\n\r\n/** -------- Game -------- */\r\nexport const submitGame = async ({ userId, gameId, score }) => {\r\n  if (!userId || !gameId || !score) throw new Error(\"All game fields required\");\r\n\r\n  try {\r\n    const res = await axios.post(\r\n      `${API}/game/complete`,\r\n      { userId, gameId, score },\r\n      { timeout: 15000 }\r\n    );\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"❌ submitGame error:\", err.message);\r\n    if (err.response) console.error(err.response.data);\r\n    throw err;\r\n  }\r\n};\r\n\r\n/** -------- Donation -------- */\r\nexport const submitDonation = async ({ donorId, amount, currency }) => {\r\n  if (!donorId || !amount) throw new Error(\"Donation fields required\");\r\n\r\n  try {\r\n    const res = await axios.post(\r\n      `${API}/donate`,\r\n      { donorId, amount, currency },\r\n      { timeout: 15000 }\r\n    );\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"❌ submitDonation error:\", err.message);\r\n    if (err.response) console.error(err.response.data);\r\n    throw err;\r\n  }\r\n};\r\n\r\n/** -------- Referral -------- */\r\nexport const submitReferral = async ({ referrerId, newUserId }) => {\r\n  if (!referrerId || !newUserId) throw new Error(\"Referral fields required\");\r\n\r\n  try {\r\n    const res = await axios.post(\r\n      `${API}/referral`,\r\n      { referrerId, newUserId },\r\n      { timeout: 10000 }\r\n    );\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"❌ submitReferral error:\", err.message);\r\n    if (err.response) console.error(err.response.data);\r\n    throw err;\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}