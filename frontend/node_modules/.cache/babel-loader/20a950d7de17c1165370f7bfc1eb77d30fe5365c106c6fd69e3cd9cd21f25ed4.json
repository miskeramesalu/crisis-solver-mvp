{"ast":null,"code":"import axios from \"axios\";\nconst API = process.env.REACT_APP_API_URL || \"http://localhost:4000/api\";\n\n// -------- Media --------\nexport const fetchMedia = async () => {\n  try {\n    const res = await axios.get(`${API}/media`);\n    return res.data.items || [];\n  } catch (err) {\n    console.error(\"❌ fetchMedia error:\", err.message);\n    return [];\n  }\n};\nexport const uploadMedia = async ({\n  file,\n  title,\n  description,\n  uploaderId\n}) => {\n  if (!file) throw new Error(\"No file selected\");\n  const form = new FormData();\n  form.append(\"media\", file);\n  form.append(\"title\", title || \"Untitled\");\n  form.append(\"description\", description);\n  form.append(\"uploaderAccountId\", uploaderId);\n  try {\n    const res = await axios.post(`${API}/upload`, form, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n    return res.data;\n  } catch (err) {\n    console.error(\"❌ uploadMedia error:\", err.message);\n    throw err;\n  }\n};\nexport const viewMedia = async ({\n  mediaId,\n  viewerAccountId\n}) => {\n  try {\n    const res = await axios.post(`${API}/view`, {\n      mediaId,\n      viewerAccountId\n    });\n    return res.data;\n  } catch (err) {\n    console.error(\"❌ viewMedia error:\", err.message);\n    throw err;\n  }\n};\n\n// -------- Quiz --------\nexport const submitQuiz = async ({\n  userId,\n  quizId,\n  answers\n}) => {\n  try {\n    const res = await axios.post(`${API}/answer`, {\n      userId,\n      quizId,\n      answers\n    });\n    return res.data;\n  } catch (err) {\n    console.error(\"❌ submitQuiz error:\", err.message);\n    throw err;\n  }\n};\n\n// -------- Game --------\nexport const submitGame = async ({\n  userId,\n  gameId,\n  score\n}) => {\n  try {\n    const res = await axios.post(`${API}/game/complete`, {\n      userId,\n      gameId,\n      score\n    });\n    return res.data;\n  } catch (err) {\n    console.error(\"❌ submitGame error:\", err.message);\n    throw err;\n  }\n};\n\n// -------- Donation --------\nexport const submitDonation = async ({\n  donorId,\n  amount,\n  currency\n}) => {\n  try {\n    const res = await axios.post(`${API}/donate`, {\n      donorId,\n      amount,\n      currency\n    });\n    return res.data;\n  } catch (err) {\n    console.error(\"❌ submitDonation error:\", err.message);\n    throw err;\n  }\n};\n\n// -------- Referral --------\nexport const submitReferral = async ({\n  referrerId,\n  newUserId\n}) => {\n  try {\n    const res = await axios.post(`${API}/referral`, {\n      referrerId,\n      newUserId\n    });\n    return res.data;\n  } catch (err) {\n    console.error(\"❌ submitReferral error:\", err.message);\n    throw err;\n  }\n};\n\n// -------- Leaderboard / User Balance --------\nexport const fetchLeaderboard = async () => {\n  try {\n    const res = await axios.get(`${API}/leaderboard`);\n    return res.data.items || [];\n  } catch (err) {\n    console.error(\"❌ fetchLeaderboard error:\", err.message);\n    return [];\n  }\n};\nexport const fetchUserBalance = async userId => {\n  try {\n    const res = await axios.get(`${API}/userBalance/${userId}`);\n    return res.data.balance || 0;\n  } catch (err) {\n    console.error(\"❌ fetchUserBalance error:\", err.message);\n    return 0;\n  }\n};","map":{"version":3,"names":["axios","API","process","env","REACT_APP_API_URL","fetchMedia","res","get","data","items","err","console","error","message","uploadMedia","file","title","description","uploaderId","Error","form","FormData","append","post","headers","viewMedia","mediaId","viewerAccountId","submitQuiz","userId","quizId","answers","submitGame","gameId","score","submitDonation","donorId","amount","currency","submitReferral","referrerId","newUserId","fetchLeaderboard","fetchUserBalance","balance"],"sources":["E:/Hedera Africa/Projects/hedera-project1/crisis-solver-mvp/frontend/src/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API = process.env.REACT_APP_API_URL || \"http://localhost:4000/api\";\r\n\r\n// -------- Media --------\r\nexport const fetchMedia = async () => {\r\n  try {\r\n    const res = await axios.get(`${API}/media`);\r\n    return res.data.items || [];\r\n  } catch (err) {\r\n    console.error(\"❌ fetchMedia error:\", err.message);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const uploadMedia = async ({ file, title, description, uploaderId }) => {\r\n  if (!file) throw new Error(\"No file selected\");\r\n  const form = new FormData();\r\n  form.append(\"media\", file);\r\n  form.append(\"title\", title || \"Untitled\");\r\n  form.append(\"description\", description);\r\n  form.append(\"uploaderAccountId\", uploaderId);\r\n\r\n  try {\r\n    const res = await axios.post(`${API}/upload`, form, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"❌ uploadMedia error:\", err.message);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const viewMedia = async ({ mediaId, viewerAccountId }) => {\r\n  try {\r\n    const res = await axios.post(`${API}/view`, { mediaId, viewerAccountId });\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"❌ viewMedia error:\", err.message);\r\n    throw err;\r\n  }\r\n};\r\n\r\n// -------- Quiz --------\r\nexport const submitQuiz = async ({ userId, quizId, answers }) => {\r\n  try {\r\n    const res = await axios.post(`${API}/answer`, { userId, quizId, answers });\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"❌ submitQuiz error:\", err.message);\r\n    throw err;\r\n  }\r\n};\r\n\r\n// -------- Game --------\r\nexport const submitGame = async ({ userId, gameId, score }) => {\r\n  try {\r\n    const res = await axios.post(`${API}/game/complete`, {\r\n      userId,\r\n      gameId,\r\n      score,\r\n    });\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"❌ submitGame error:\", err.message);\r\n    throw err;\r\n  }\r\n};\r\n\r\n// -------- Donation --------\r\nexport const submitDonation = async ({ donorId, amount, currency }) => {\r\n  try {\r\n    const res = await axios.post(`${API}/donate`, {\r\n      donorId,\r\n      amount,\r\n      currency,\r\n    });\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"❌ submitDonation error:\", err.message);\r\n    throw err;\r\n  }\r\n};\r\n\r\n// -------- Referral --------\r\nexport const submitReferral = async ({ referrerId, newUserId }) => {\r\n  try {\r\n    const res = await axios.post(`${API}/referral`, { referrerId, newUserId });\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error(\"❌ submitReferral error:\", err.message);\r\n    throw err;\r\n  }\r\n};\r\n\r\n// -------- Leaderboard / User Balance --------\r\nexport const fetchLeaderboard = async () => {\r\n  try {\r\n    const res = await axios.get(`${API}/leaderboard`);\r\n    return res.data.items || [];\r\n  } catch (err) {\r\n    console.error(\"❌ fetchLeaderboard error:\", err.message);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const fetchUserBalance = async (userId) => {\r\n  try {\r\n    const res = await axios.get(`${API}/userBalance/${userId}`);\r\n    return res.data.balance || 0;\r\n  } catch (err) {\r\n    console.error(\"❌ fetchUserBalance error:\", err.message);\r\n    return 0;\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}